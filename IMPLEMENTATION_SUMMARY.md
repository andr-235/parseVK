# üì¶ –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: ClickHouse + Elasticsearch

–î–∞—Ç–∞: 2026-02-04

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–§–∞–π–ª:** `docker-compose.yml`

–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã:

- ‚úÖ ClickHouse (–ø–æ—Ä—Ç—ã 8123, 9000)
- ‚úÖ Elasticsearch (–ø–æ—Ä—Ç—ã 9200, 9300)
- ‚úÖ Volumes –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ API –æ—Ç –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### 2. NestJS –º–æ–¥—É–ª–∏

#### ClickHouse –º–æ–¥—É–ª—å

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `api/src/clickhouse/`

–§–∞–π–ª—ã:

- ‚úÖ `clickhouse.config.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ `clickhouse.service.ts` - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å ClickHouse
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º—ã
  - –ú–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
  - –ú–µ—Ç–æ–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - Health check
- ‚úÖ `clickhouse.module.ts` - –º–æ–¥—É–ª—å NestJS

**–¢–∞–±–ª–∏—Ü—ã:**

- `comments_analytics` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- `authors_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–≤—Ç–æ—Ä–æ–≤
- `tasks_metrics` - –º–µ—Ç—Ä–∏–∫–∏ –∑–∞–¥–∞—á
- `daily_activity_mv` - –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

#### Elasticsearch –º–æ–¥—É–ª—å

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `api/src/elasticsearch/`

–§–∞–π–ª—ã:

- ‚úÖ `elasticsearch.config.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ `elasticsearch.service.ts` - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Elasticsearch
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤
  - –ú–µ—Ç–æ–¥—ã –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
  - –ú–µ—Ç–æ–¥—ã –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
  - –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (suggestions)
  - Health check
- ‚úÖ `elasticsearch.module.ts` - –º–æ–¥—É–ª—å NestJS

**–ò–Ω–¥–µ–∫—Å—ã:**

- `comments` - –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º
  - –†—É—Å—Å–∫–∞—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—è
  - Highlights
  - Aggregations
- `authors` - –ø–æ–∏—Å–∫ –∞–≤—Ç–æ—Ä–æ–≤
  - Completion suggester

#### Sync –º–æ–¥—É–ª—å

**–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:** `api/src/sync/`

–§–∞–π–ª—ã:

- ‚úÖ `sync.module.ts` - –≥–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ `sync.cron.ts` - Cron –∑–∞–¥–∞—á–∞ (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
- ‚úÖ `sync.controller.ts` - API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ `processors/clickhouse-sync.processor.ts` - Worker –¥–ª—è ClickHouse
- ‚úÖ `processors/elasticsearch-sync.processor.ts` - Worker –¥–ª—è Elasticsearch

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ)
- –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–≤—Å–µ –¥–∞–Ω–Ω—ã–µ)
- BullMQ –æ—á–µ—Ä–µ–¥—å —Å retry –º–µ—Ö–∞–Ω–∏–∑–º–æ–º
- API –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤

- ‚úÖ `api/package.json` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
  - `@clickhouse/client: ^1.8.0`
  - `@elastic/elasticsearch: ^8.11.0`
- ‚úÖ `api/src/app.module.ts` - –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏
- ‚úÖ `api/.env.example` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ `ANALYTICS_INTEGRATION.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (8000+ —Å–ª–æ–≤)
  - –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  - –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
  - API reference
  - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
  - Troubleshooting
  - –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
- ‚úÖ `ANALYTICS_QUICKSTART.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  - –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
  - –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ `scripts/check-analytics.sh` - —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ `IMPLEMENTATION_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤:** 13
**–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 4
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~1500
**–°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** ~1200

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ PostgreSQL  ‚îÇ (source of truth)
‚îÇ  (Prisma)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ Cron (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  BullMQ     ‚îÇ
‚îÇ  (Redis)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚ñº             ‚ñº             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ClickHouse‚îÇ  ‚îÇElasticsearch‚îÇ  ‚îÇ  Retry   ‚îÇ
‚îÇ  Worker   ‚îÇ  ‚îÇ  Worker    ‚îÇ  ‚îÇ Mechanism‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ             ‚îÇ
       ‚ñº             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇClickHouse‚îÇ  ‚îÇElasticsearch‚îÇ
‚îÇAnalytics ‚îÇ  ‚îÇ  Search    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üéØ API Endpoints

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

- `POST /api/sync/full` - –ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- `POST /api/sync/incremental` - –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- `GET /api/sync/status` - —Å—Ç–∞—Ç—É—Å –æ—á–µ—Ä–µ–¥–∏
- `GET /api/sync/jobs?limit=N` - –ø–æ—Å–ª–µ–¥–Ω–∏–µ jobs
- `POST /api/sync/clean` - –æ—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö jobs

## üì¶ Docker Volumes

–ù–æ–≤—ã–µ volumes:

- `parsevk_clickhouse_data` - –¥–∞–Ω–Ω—ã–µ ClickHouse
- `parsevk_clickhouse_logs` - –ª–æ–≥–∏ ClickHouse
- `parsevk_elasticsearch_data` - –¥–∞–Ω–Ω—ã–µ Elasticsearch

**–í–∞–∂–Ω–æ:** Volumes –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º:

```bash
docker volume create parsevk_clickhouse_data
docker volume create parsevk_elasticsearch_data
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è –∑–∞–ø—É—Å–∫–∞ MVP:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

   ```bash
   cd api && bun install && cd ..
   ```

2. **–°–æ–∑–¥–∞—Ç—å volumes:**

   ```bash
   docker volume create parsevk_clickhouse_data
   docker volume create parsevk_elasticsearch_data
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã:**

   ```bash
   docker-compose up --build -d
   ```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:**

   ```bash
   ./scripts/check-analytics.sh
   # –∏–ª–∏
   curl http://localhost:3000/api/sync/status
   ```

5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:**
   ```bash
   curl -X POST http://localhost:3000/api/sync/full
   ```

### –§–∞–∑–∞ 2 (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏):

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è MVP –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **API –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏**
   - Endpoint –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: `GET /api/analytics/stats`
   - Endpoint –¥–ª—è —Ç–æ–ø–æ–≤: `GET /api/analytics/top-authors`
   - Endpoint –¥–ª—è –¥–∞—à–±–æ—Ä–¥–æ–≤: `GET /api/analytics/dashboard`

2. **API –¥–ª—è –ø–æ–∏—Å–∫–∞**
   - Endpoint –¥–ª—è –ø–æ–∏—Å–∫–∞: `GET /api/search/comments`
   - Endpoint –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è: `GET /api/search/suggest`
   - Endpoint –¥–ª—è —Ñ–∞—Å–µ—Ç–æ–≤: `GET /api/search/facets`

3. **Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
   - –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å highlights
   - –§–∏–ª—å—Ç—Ä—ã –∏ —Ñ–∞—Å–µ—Ç—ã

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Grafana**
   - Dashboard –¥–ª—è –º–µ—Ç—Ä–∏–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - Dashboard –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏–∑ ClickHouse

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:**
   - –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –Ω–µ–±–æ–ª—å—à–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - ClickHouse –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - Elasticsearch - –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞
   - BullMQ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Å retry –º–µ—Ö–∞–Ω–∏–∑–º–æ–º

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `/api/sync/status`
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ failed jobs
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ jobs —á–µ—Ä–µ–∑ `/api/sync/clean`

4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å concurrency –≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö
   - –ú–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å/—É–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ ClickHouse

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ:

- üìà –ü–æ–ª—É—á–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∑–∞ –ª—é–±–æ–π –ø–µ—Ä–∏–æ–¥
- üë• –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ø –∞–≤—Ç–æ—Ä–æ–≤ –∏ –∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- üîç –ò—Å–∫–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å —Ä—É—Å—Å–∫–æ–π –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–µ–π
- üìä –°—Ç—Ä–æ–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ ClickHouse
- üéØ –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- üí° –ù–∞—Ö–æ–¥–∏—Ç—å —Ç—Ä–µ–Ω–¥—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

## üéì –û–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç:

- –ü—Ä–∏–º–µ—Ä—ã SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è ClickHouse
- –ü—Ä–∏–º–µ—Ä—ã DSL –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è Elasticsearch
- –û–ø–∏—Å–∞–Ω–∏–µ API endpoints
- Troubleshooting guide
- Best practices

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:

- Health checks –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
- Retry –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ Docker network
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è credentials

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

- –í–∫–ª—é—á–∏—Ç—å authentication –≤ Elasticsearch (production)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall –¥–ª—è –ø–æ—Ä—Ç–æ–≤ ClickHouse
- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã volumes

## üìù Changelog

**v1.0.0 - MVP (2026-02-04)**

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ClickHouse
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Elasticsearch
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ MVP –ì–û–¢–û–í –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞–ø—É—Å–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å–º. ANALYTICS_QUICKSTART.md)
