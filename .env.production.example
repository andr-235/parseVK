# ==============================================
# PRODUCTION ENVIRONMENT VARIABLES
# ==============================================
# Этот файл является шаблоном для production окружения
# Скопируйте его в .env на сервере и заполните реальными значениями
#
# На сервере выполните:
# cp .env.production.example .env
# nano .env  # и заполните значения
#
# ВАЖНО: Файл .env НЕ должен попадать в git!
# Он уже добавлен в .gitignore
# ==============================================

# ---------------------------------------------
# DATABASE (PostgreSQL)
# ---------------------------------------------
# Строка подключения к базе данных PostgreSQL
# Формат: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL=postgresql://postgres:STRONG_PASSWORD_HERE@db:5432/vk_api?schema=public

# ---------------------------------------------
# MONITORING DATABASE (WhatsApp)
# ---------------------------------------------
# Отдельная база для мониторинга сообщений
MONITOR_DATABASE_URL=postgresql://postgres:STRONG_PASSWORD_HERE@monitor-db:5432/monitor?schema=public

# Таблица(ы) и колонки с сообщениями
# Можно указать несколько таблиц через запятую: messages,messages_max
MONITOR_MESSAGES_TABLE=messages,messages_max
MONITOR_MESSAGE_ID_COLUMN=id
MONITOR_MESSAGE_TEXT_COLUMN=text
MONITOR_MESSAGE_CREATED_AT_COLUMN=created_at
MONITOR_MESSAGE_METADATA_COLUMN=metadata

# Дополнительные колонки (опционально)
MONITOR_MESSAGE_AUTHOR_COLUMN=author
MONITOR_MESSAGE_CHAT_COLUMN=chat

# Таблица ключевых слов (опционально).
# Если не задано, будут использоваться ключевые слова из основной базы.
MONITOR_KEYWORDS_TABLE=keywords
MONITOR_KEYWORD_WORD_COLUMN=word

# ---------------------------------------------
# VK API TOKEN
# ---------------------------------------------
# Токен доступа к VK API
# Получить можно здесь: https://vkhost.github.io/
# Требуемые права: wall, groups, users, offline
VK_TOKEN=vk1.a.YOUR_VK_TOKEN_HERE

# ---------------------------------------------
# IMAGE MODERATION WEBHOOK
# ---------------------------------------------
# URL сервиса, который будет выполнять модерацию изображений
# Значение по умолчанию в коде: https://192.168.88.12/webhook/image-moderation
# Укажите собственный URL, если используете другой сервис
IMAGE_MODERATION_WEBHOOK_URL=https://192.168.88.12/webhook/image-moderation

# Установите true, если необходимо принимать самоподписанные сертификаты
IMAGE_MODERATION_ALLOW_SELF_SIGNED=false

# ---------------------------------------------
# FRONTEND CONFIGURATION
# ---------------------------------------------
# Название приложения (отображается в UI)
VITE_APP_TITLE=ВК Аналитик

# URL для API запросов из браузера
# Для локальной сети используйте /api (проксируется через nginx)
# Для прямого доступа укажите: http://SERVER_IP:3000/api
VITE_API_URL=/api

# Базовый адрес для WebSocket-подключений.
# Значение auto выбирает ws:// либо wss:// в зависимости от протокола страницы.
VITE_API_WS_URL=auto

# Режим разработки (для production ставьте false)
VITE_DEV_MODE=false

# ---------------------------------------------
# POSTGRESQL (для docker-compose)
# ---------------------------------------------
# Эти переменные используются контейнером postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=STRONG_PASSWORD_HERE
POSTGRES_DB=vk_api

# ---------------------------------------------
# API SERVER
# ---------------------------------------------
# Порт, на котором работает API (внутри контейнера)
PORT=3000

# ---------------------------------------------
# REDIS (опционально)
# ---------------------------------------------
# Redis используется для кэширования
# Адрес Redis сервера
REDIS_URL=redis://redis:6379
